<query-editor-row query-ctrl="ctrl" can-collapse="true">

  <div class="gf-form-inline">
    <div class="gf-form gf-form--grow">
        <label class="gf-form-label query-keyword width-7">URL</label>
        <input type="text" class="gf-form-input width-5" ng-model="ctrl.target.host" spellcheck='false' placeholder="机器名" ng-blur="ctrl.refresh()">
        <label class="gf-form-label">.</label>
        <input type="text" class="gf-form-input width-7" ng-model="ctrl.target.domain" spellcheck='false' placeholder="域名" ng-blur="ctrl.refresh()">
        <label class="gf-form-label query-keyword width-4">SID=</label>
        <input type="text" class="gf-form-input" ng-model="ctrl.target.sid" spellcheck='false' placeholder="SID" ng-blur="ctrl.refresh()">
    </div>
    <div class="gf-form max-width-15">
      <label class="gf-form-label query-keyword">Alias</label>
      <input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck='false' placeholder="alias patterns" ng-blur="ctrl.refresh()">
    </div>
  </div>
  <div class="gf-form-inline">
  </div>
  <div class="gf-form-inline">
    <div class="gf-form gf-form--grow">
      <label class="gf-form-label query-keyword width-7">URL</label>
      <input type="text" class="gf-form-input" ng-model="ctrl.target.url" spellcheck='false' placeholder="机器名" ng-blur="ctrl.refresh()">
      <label class="gf-form-label">?</label>
      <label class="gf-form-label query-keyword width-4">SID=</label>
      <input type="text" class="gf-form-input" ng-model="ctrl.target.sid" spellcheck='false' placeholder="SID" ng-blur="ctrl.refresh()">
    </div>
  </div>
  <div class="gf-form-inline">
    <div class="gf-form">
      <label class="gf-form-label query-keyword width-7">参数</label>
    </div>
    <div class="gf-form">
      <label class="gf-form-label query-keyword width-5">类型</label>
      <label class="gf-form-label query-keyword width-10">键</label>
      <label class="gf-form-label query-keyword width-15">值</label>
    </div>
    <div class="gf-form">
      <label class="gf-form-label">
        <a ng-click="ctrl.target.parameters.push({type:'value',key:'',value:''})">
          <i class="fa fa-plus">Value</i>
        </a>
      </label>
      <label class="gf-form-label">
        <a ng-click="ctrl.target.parameters.push({type:'object',key:'',value:{k:1}})">
          <i class="fa fa-plus">Object</i>
        </a>
      </label>
      <label class="gf-form-label">
        <a ng-click="ctrl.target.parameters.push({type:'raw',key:'',value:''})">
          <i class="fa fa-plus">Raw</i>
        </a>
      </label>
    </div>
  </div>
  <div class="gf-form-inline" ng-repeat="param in ctrl.target.parameters">
    <div class="gf-form offset-width-7">
      <label class="gf-form-label width-5" ng-bind="param.type">
      </label>
    </div>
    <div class="gf-form">
      <input type="text" class="gf-form-input width-10" ng-model="param.key" spellcheck='false' placeholder="" ng-blur="ctrl.refresh()">
    </div>
    <div class="gf-form" ng-switch="param.type">
      <input ng-switch-default type="text" class="gf-form-input width-15" ng-model="param.value" spellcheck='false' placeholder=""
        ng-blur="ctrl.refresh()">
      <div class="gf-form-inline" ng-switch-when="object" ng-repeat="(k,v) in param.value">
          {{k}}<input type="text" class="gf-form-input width-5" ng-model="k" spellcheck='false' placeholder="" ng-blur="ctrl.refresh()">
          {{v}}<input type="text" class="gf-form-input width-5" ng-model="param.value[k]" spellcheck='false' placeholder="" ng-blur="ctrl.refresh()">
      </div>
      <input ng-switch-when="raw" type="text" class="gf-form-input width-15" ng-model="param.value" spellcheck='false' placeholder=""
        ng-blur="ctrl.refresh()">
    </div>
    <div class="gf-form">
      <label class="gf-form-label">
        <a ng-click="ctrl.removeItem(ctrl.target.parameters, param)">
          <i class="pointer fa fa-trash"></i>
        </a>
      </label>
      <label class="gf-form-label" ng-hide="$last">
        <a ng-click="ctrl.moveItem(ctrl.target.parameters,$index,$index+1)">
          <i class="pointer fa fa-arrow-down"></i>
        </a>
      </label>
      <label class="gf-form-label" ng-hide="$first">
        <a ng-click="ctrl.moveItem(ctrl.target.parameters,$index,$index-1)">
          <i class="pointer fa fa-arrow-up"></i>
        </a>
      </label>
      <label class="gf-form-label">
        {{ctrl.paramToString(param)}}
      </label>
    </div>
  </div>

</query-editor-row>
