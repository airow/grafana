<div class="editor-row">
  <h5 class="section-heading">时间</h5>
  <gf-form-switch class="gf-form" label="时间" label-class="query-keyword width-5"
    checked="editor.saikuConf.dateFilter.enable">
  </gf-form-switch>
  <div class="gf-form-inline" ng-show='editor.saikuConf.dateFilter.enable'>
    <div class="gf-form">
      <label class="gf-form-label query-keyword width-10">日期 Field</label>
      <input type="text" class="gf-form-input width-10" ng-model="editor.saikuConf.dateFilter.field" spellcheck="false"
        placeholder="date field">
    </div>
    <div class="gf-form">
      <label class="gf-form-label query-keyword width-10">日期 Level</label>
      <input type="text" class="gf-form-input width-10" ng-model="editor.saikuConf.dateFilter.level" spellcheck="false"
        placeholder="date level">
    </div>
    <div class="gf-form">
      <label class="gf-form-label query-keyword width-10">日期 dateFormat</label>
      <input type="text" class="gf-form-input width-10" ng-model="editor.saikuConf.dateFilter.dateFormat"
        spellcheck="false" placeholder="dateFormat" bs-typeahead="['YYYYMMDD']" data-min-length=0>
    </div>
  </div>
</div>

<div class="editor-row">
  <h5 class="section-heading">过滤</h5>
  <div class="gf-form-inline">
    <div class="gf-form">
      <label class="gf-form-label">
        <a ng-click="editor.saikuConf.filters.push({ignoreList:[]})">
          <i class="fa fa-plus"></i>
        </a>
      </label>
      <label class="gf-form-label query-keyword width-10">面板变量</label>
      <label class="gf-form-label query-keyword width-10">Saiku Field</label>
      <label class="gf-form-label query-keyword width-10">Saiku Level</label>
      <label class="gf-form-label query-keyword width-10">Function</label>
    </div>
  </div>
  <div class="gf-form-inline" ng-repeat="filter in editor.saikuConf.filters">
    <div class="gf-form">
      <label class="gf-form-label">
        <a ng-click="editor.remove(editor.saikuConf.filters, filter)">
          <i class="pointer fa fa-remove"></i>
        </a>
      </label>
      <input type="text" class="gf-form-input width-10" ng-model="filter.dashVar" spellcheck="false" placeholder="var"
        bs-typeahead="editor.searchVars" data-min-length=0>
      <input type="text" class="gf-form-input width-10" ng-model="filter.data_Field" spellcheck="false"
        placeholder="data_Field">
      <input type="text" class="gf-form-input width-10" ng-model="filter.data_Level" spellcheck="false"
        placeholder="data_Level">
      <input type="text" class="gf-form-input width-20" ng-model="filter.func" spellcheck="false" placeholder="func">
      <label class="gf-form-label query-keyword">ignore</label>
      <span ng-repeat="ignore in filter.ignoreList track by $index">
        <input type="text" class="gf-form-input width-5" style="display: inline-block;"
          ng-model="filter.ignoreList[$index]" spellcheck="false" placeholder="value">
        <label class="gf-form-label" style="display: inline-block;">
          <a ng-click="editor.remove(filter.ignoreList, filter.ignoreList[$index])">
            <i class="pointer fa fa-remove"></i>
          </a>
        </label>
      </span>
      <label class="gf-form-label">
        <a ng-click="filter.ignoreList.push('')">
          <i class="fa fa-plus"></i>
        </a>
      </label>
      <label class="gf-form-label" ng-hide="$last">
        <a ng-click="editor.move(editor.saikuConf.filters,$index,$index+1)">
          <i class="pointer fa fa-arrow-down"></i>
        </a>
      </label>
      <label class="gf-form-label" ng-hide="$first">
        <a ng-click="editor.move(editor.saikuConf.filters,$index,$index-1)">
          <i class="pointer fa fa-arrow-up"></i>
        </a>
      </label>
    </div>
  </div>
  <div class="gf-form" ng-show="ctrl.showHelp">
    <pre class="gf-form-pre alert alert-info">
      return [${_.compact([
        helper.getDashVar('OperatingType1')=='投建运营类型:/自投自营/'? '"自投自营"' : '',
        helper.getDashVar('OperatingType2')=='投建运营类型:/他投自营/'? '"他投自营"' : '',
        helper.getDashVar('OperatingType3')=='投建运营类型:/非自营/'? '"非自营"' : ''
      ])}]
    </pre>
  </div>
</div>
